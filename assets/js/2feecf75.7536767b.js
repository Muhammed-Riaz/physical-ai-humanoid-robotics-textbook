"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[474],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var a=s(6540);const i={},l=a.createContext(i);function r(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(l.Provider,{value:n},e.children)}},9225:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var a=s(4848),i=s(8453);const l={title:"VSLAM Deployment on Jetson Orin",sidebar_position:11},r="VSLAM Deployment on Jetson Orin",o={id:"modules/isaac/vslam_jetson",title:"VSLAM Deployment on Jetson Orin",description:"Overview",source:"@site/docs/modules/03-isaac/vslam_jetson.md",sourceDirName:"modules/03-isaac",slug:"/modules/isaac/vslam_jetson",permalink:"/physical-ai-humanoid-robotics-textbook/modules/isaac/vslam_jetson",draft:!1,unlisted:!1,editUrl:"https://github.com/Muhammed-Riaz/physical-ai-humanoid-robotics-textbook/edit/main/docs/docs/modules/03-isaac/vslam_jetson.md",tags:[],version:"current",sidebarPosition:11,frontMatter:{title:"VSLAM Deployment on Jetson Orin",sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"NVIDIA Isaac Sim Guide",permalink:"/physical-ai-humanoid-robotics-textbook/modules/isaac/isaac_sim"},next:{title:"Nav2 Deployment on Jetson Orin",permalink:"/physical-ai-humanoid-robotics-textbook/modules/isaac/nav2_jetson"}},t={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hardware Setup",id:"hardware-setup",level:2},{value:"1. Jetson Orin Setup",id:"1-jetson-orin-setup",level:3},{value:"2. Camera Connection",id:"2-camera-connection",level:3},{value:"Software Installation",id:"software-installation",level:2},{value:"1. Install JetPack",id:"1-install-jetpack",level:3},{value:"2. Install ROS 2",id:"2-install-ros-2",level:3},{value:"3. Install RealSense Drivers",id:"3-install-realsense-drivers",level:3},{value:"4. Install ROS 2 RealSense Package",id:"4-install-ros-2-realsense-package",level:3},{value:"5. Install VSLAM Packages",id:"5-install-vslam-packages",level:3},{value:"Isaac ROS VSLAM Setup",id:"isaac-ros-vslam-setup",level:2},{value:"1. Install Isaac ROS VSLAM packages",id:"1-install-isaac-ros-vslam-packages",level:3},{value:"2. Configure VSLAM pipeline",id:"2-configure-vslam-pipeline",level:3},{value:"Deployment Process",id:"deployment-process",level:2},{value:"1. Build and source workspace",id:"1-build-and-source-workspace",level:3},{value:"2. Launch VSLAM pipeline",id:"2-launch-vslam-pipeline",level:3},{value:"3. Monitor performance",id:"3-monitor-performance",level:3},{value:"Optimization for Jetson Orin",id:"optimization-for-jetson-orin",level:2},{value:"1. Power Mode",id:"1-power-mode",level:3},{value:"2. Memory Management",id:"2-memory-management",level:3},{value:"3. RealSense Optimization",id:"3-realsense-optimization",level:3},{value:"Testing VSLAM Performance",id:"testing-vslam-performance",level:2},{value:"1. Accuracy Testing",id:"1-accuracy-testing",level:3},{value:"2. Performance Metrics",id:"2-performance-metrics",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Resources",id:"resources",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"vslam-deployment-on-jetson-orin",children:"VSLAM Deployment on Jetson Orin"}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:'Visual Simultaneous Localization and Mapping (VSLAM) is crucial for humanoid robots to understand their environment and navigate autonomously. This guide covers deploying VSLAM systems on the NVIDIA Jetson Orin platform, which serves as the "brain" for edge AI in Physical AI applications.'}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"NVIDIA Jetson Orin Nano (8GB) or Orin NX (16GB)"}),"\n",(0,a.jsx)(n.li,{children:"Ubuntu 22.04 LTS"}),"\n",(0,a.jsx)(n.li,{children:"Internet connection"}),"\n",(0,a.jsx)(n.li,{children:"Intel RealSense D435i or D455 camera"}),"\n",(0,a.jsx)(n.li,{children:"At least 4GB free storage space"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"hardware-setup",children:"Hardware Setup"}),"\n",(0,a.jsx)(n.h3,{id:"1-jetson-orin-setup",children:"1. Jetson Orin Setup"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Flash the Jetson Orin with the latest JetPack SDK"}),"\n",(0,a.jsx)(n.li,{children:"Connect the RealSense camera via USB 3.0"}),"\n",(0,a.jsx)(n.li,{children:"Ensure proper power supply (official Jetson power adapter)"}),"\n",(0,a.jsx)(n.li,{children:"Connect to network (Ethernet recommended for stability)"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"2-camera-connection",children:"2. Camera Connection"}),"\n",(0,a.jsx)(n.p,{children:"Connect the Intel RealSense D435i/D455 to the Jetson Orin:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Use a high-quality USB 3.0 cable"}),"\n",(0,a.jsx)(n.li,{children:"Connect directly to the Jetson (avoid USB hubs)"}),"\n",(0,a.jsx)(n.li,{children:"Ensure the camera is properly powered"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"software-installation",children:"Software Installation"}),"\n",(0,a.jsx)(n.h3,{id:"1-install-jetpack",children:"1. Install JetPack"}),"\n",(0,a.jsx)(n.p,{children:"Ensure you have JetPack 5.1 or later installed on your Jetson Orin:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check JetPack version\njetpack_version\n# or\ncat /etc/nv_tegra_release\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-install-ros-2",children:"2. Install ROS 2"}),"\n",(0,a.jsx)(n.p,{children:"Install ROS 2 Humble Hawksbill on your Jetson:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'sudo apt update\nsudo apt install software-properties-common\nsudo add-apt-repository universe\nsudo apt update\nsudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\nsudo apt update\nsudo apt install ros-humble-desktop\nsudo apt install python3-colcon-common-extensions\n'})}),"\n",(0,a.jsx)(n.h3,{id:"3-install-realsense-drivers",children:"3. Install RealSense Drivers"}),"\n",(0,a.jsx)(n.p,{children:"Install the RealSense SDK:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE || sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE\nsudo add-apt-repository "deb https://librealsense.intel.com/Debian/apt-repo $(lsb_release -cs) main" -u\nsudo apt-get update\nsudo apt-get install librealsense2-dkms\nsudo apt-get install librealsense2-dev\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-install-ros-2-realsense-package",children:"4. Install ROS 2 RealSense Package"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-realsense2-camera\n"})}),"\n",(0,a.jsx)(n.h3,{id:"5-install-vslam-packages",children:"5. Install VSLAM Packages"}),"\n",(0,a.jsx)(n.p,{children:"Install ORB-SLAM2 or other VSLAM packages:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install dependencies\nsudo apt install libeigen3-dev libsuitesparse-dev libboost-serialization-dev libyaml-cpp-dev\nsudo apt install libopencv-dev\n\n# Clone and build ORB-SLAM2\ncd ~\ngit clone https://github.com/raulmur/ORB_SLAM2.git ORB_SLAM2\ncd ORB_SLAM2\nchmod +x build.sh\n./build.sh\n"})}),"\n",(0,a.jsx)(n.h2,{id:"isaac-ros-vslam-setup",children:"Isaac ROS VSLAM Setup"}),"\n",(0,a.jsx)(n.h3,{id:"1-install-isaac-ros-vslam-packages",children:"1. Install Isaac ROS VSLAM packages"}),"\n",(0,a.jsx)(n.p,{children:"NVIDIA provides optimized VSLAM packages for Jetson:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-isaac-ros-point-cloud-transport\nsudo apt install ros-humble-isaac-ros-apriltag\nsudo apt install ros-humble-isaac-ros-visual-slam\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-configure-vslam-pipeline",children:"2. Configure VSLAM pipeline"}),"\n",(0,a.jsx)(n.p,{children:"Create a launch file for the VSLAM pipeline:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"\x3c!-- vslam_pipeline.launch.py --\x3e\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import ComposableNodeContainer\nfrom launch_ros.descriptions import ComposableNode\n\ndef generate_launch_description():\n    # Launch argument\n    use_sim_time = LaunchConfiguration('use_sim_time', default='False')\n\n    # Container for all nodes\n    container = ComposableNodeContainer(\n        name='vslam_container',\n        namespace='',\n        package='rclcpp_components',\n        executable='component_container_mt',\n        composable_node_descriptions=[\n            # RealSense camera node\n            ComposableNode(\n                package='realsense2_camera',\n                plugin='realsense2_camera::RealSenseNodeFactory',\n                name='camera',\n                parameters=[{\n                    'enable_color': True,\n                    'enable_depth': True,\n                    'enable_infra1': False,\n                    'enable_infra2': False,\n                    'depth_module.profile': '640x480x30',\n                    'rgb_camera.profile': '640x480x30',\n                    'publish_tf': True,\n                    'tf_publish_rate': 0.0\n                }]\n            ),\n            # Isaac ROS Visual SLAM node\n            ComposableNode(\n                package='isaac_ros_visual_slam',\n                plugin='isaac_ros::VisualSlamNode',\n                name='visual_slam',\n                parameters=[{\n                    'use_sim_time': use_sim_time,\n                    'map_frame': 'map',\n                    'odom_frame': 'odom',\n                    'base_frame': 'camera_link',\n                    'publish_odom_tf': True\n                }]\n            ),\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([container])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"deployment-process",children:"Deployment Process"}),"\n",(0,a.jsx)(n.h3,{id:"1-build-and-source-workspace",children:"1. Build and source workspace"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create workspace\nmkdir -p ~/vslam_ws/src\ncd ~/vslam_ws\n\n# Build packages\ncolcon build --symlink-install\n\n# Source the workspace\nsource install/setup.bash\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-launch-vslam-pipeline",children:"2. Launch VSLAM pipeline"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Launch the VSLAM pipeline\nros2 launch vslam_pipeline.launch.py\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-monitor-performance",children:"3. Monitor performance"}),"\n",(0,a.jsx)(n.p,{children:"Monitor the performance of your VSLAM system:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check CPU usage\nhtop\n\n# Check GPU usage\nsudo tegrastats\n\n# Monitor ROS 2 topics\nros2 topic echo /visual_slam/visual_slam/odometry\n"})}),"\n",(0,a.jsx)(n.h2,{id:"optimization-for-jetson-orin",children:"Optimization for Jetson Orin"}),"\n",(0,a.jsx)(n.h3,{id:"1-power-mode",children:"1. Power Mode"}),"\n",(0,a.jsx)(n.p,{children:"Set Jetson to maximum performance mode:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo nvpmodel -m 0  # Maximum performance\nsudo jetson_clocks  # Lock clocks to maximum\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-memory-management",children:"2. Memory Management"}),"\n",(0,a.jsx)(n.p,{children:"Optimize memory usage for VSLAM:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Reduce swappiness\necho 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-realsense-optimization",children:"3. RealSense Optimization"}),"\n",(0,a.jsx)(n.p,{children:"Configure RealSense for optimal performance:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Lower resolution for better performance\n# In the launch file, use: 'depth_module.profile': '640x480x15'\n# For less demanding applications, use lower FPS\n"})}),"\n",(0,a.jsx)(n.h2,{id:"testing-vslam-performance",children:"Testing VSLAM Performance"}),"\n",(0,a.jsx)(n.h3,{id:"1-accuracy-testing",children:"1. Accuracy Testing"}),"\n",(0,a.jsx)(n.p,{children:"Test the accuracy of your VSLAM system:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Record a bag file for analysis\nros2 bag record /visual_slam/visual_slam/odometry /camera/color/image_raw\n\n# Play back and analyze\nros2 bag play your_recording.bag\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-performance-metrics",children:"2. Performance Metrics"}),"\n",(0,a.jsx)(n.p,{children:"Monitor key performance metrics:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Tracking accuracy (position drift over time)"}),"\n",(0,a.jsx)(n.li,{children:"Processing latency (time from image capture to pose estimate)"}),"\n",(0,a.jsx)(n.li,{children:"Frame rate (ensure real-time performance)"}),"\n",(0,a.jsx)(n.li,{children:"Memory usage (avoid memory leaks)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Camera Not Detected"}),": Check USB connection and permissions"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check USB devices\nlsusb | grep Intel\n# Add udev rules if needed\nsudo cp ~/.local/lib/python3.8/site-packages/pyrealsense2/udev_rules/setup_udev_rules.sh /tmp/\nsudo /tmp/setup_udev_rules.sh\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Performance Issues"}),": Reduce image resolution or frame rate"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# In the RealSense parameters, lower the resolution\n'depth_module.profile': '424x240x15'\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Compilation Errors"}),": Ensure all dependencies are installed"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install additional dependencies if needed\nsudo apt install build-essential cmake pkg-config\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://nvidia-isaac-ros.github.io/released/",children:"NVIDIA Isaac ROS Documentation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://www.intelrealsense.com/sdk-2/",children:"Intel RealSense Documentation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://docs.nvidia.com/jetson/archives/r34.1.1/developer_guide/index.html",children:"Jetson Performance Optimization"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);
"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[378],{5:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var s=i(4848),a=i(8453);const o={title:"Gazebo Simulation Guide",sidebar_position:9},l="Gazebo Simulation Guide",r={id:"modules/digital-twin/gazebo_sim",title:"Gazebo Simulation Guide",description:"Overview",source:"@site/docs/modules/02-digital-twin/gazebo_sim.md",sourceDirName:"modules/02-digital-twin",slug:"/modules/digital-twin/gazebo_sim",permalink:"/physical-ai-humanoid-robotics-textbook/modules/digital-twin/gazebo_sim",draft:!1,unlisted:!1,editUrl:"https://github.com/Muhammed-Riaz/physical-ai-humanoid-robotics-textbook/edit/main/docs/docs/modules/02-digital-twin/gazebo_sim.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"Gazebo Simulation Guide",sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"Module 2 - The Digital Twin (Gazebo & Unity)",permalink:"/physical-ai-humanoid-robotics-textbook/modules/digital-twin/"},next:{title:"Module 3 - The AI-Robot Brain (NVIDIA Isaac\u2122)",permalink:"/physical-ai-humanoid-robotics-textbook/modules/isaac/"}},t={},d=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"1. Install Gazebo Garden",id:"1-install-gazebo-garden",level:3},{value:"2. Install ROS 2 Gazebo packages",id:"2-install-ros-2-gazebo-packages",level:3},{value:"3. Install additional simulation packages",id:"3-install-additional-simulation-packages",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"1. Launch Gazebo",id:"1-launch-gazebo",level:3},{value:"2. Create a simple world",id:"2-create-a-simple-world",level:3},{value:"3. Launch your custom world",id:"3-launch-your-custom-world",level:3},{value:"Integration with ROS 2",id:"integration-with-ros-2",level:2},{value:"1. Spawn a model via ROS 2",id:"1-spawn-a-model-via-ros-2",level:3},{value:"2. Control a model via ROS 2",id:"2-control-a-model-via-ros-2",level:3},{value:"Simulating Sensors",id:"simulating-sensors",level:2},{value:"1. LiDAR Sensor",id:"1-lidar-sensor",level:3},{value:"2. Camera Sensor",id:"2-camera-sensor",level:3},{value:"Hands-on Lab: Creating a Humanoid Robot Simulation",id:"hands-on-lab-creating-a-humanoid-robot-simulation",level:2},{value:"Steps",id:"steps",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Resources",id:"resources",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"gazebo-simulation-guide",children:"Gazebo Simulation Guide"}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo is a 3D simulation environment for robotics that provides realistic physics simulation and sensor feedback. This guide will help you set up and use Gazebo for simulating humanoid robots in the Physical AI curriculum."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ubuntu 22.04"}),"\n",(0,s.jsx)(n.li,{children:"ROS 2 Humble or Iron installed"}),"\n",(0,s.jsx)(n.li,{children:"NVIDIA GPU with RTX capabilities recommended for visual rendering"}),"\n",(0,s.jsx)(n.li,{children:"At least 8GB RAM recommended"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h3,{id:"1-install-gazebo-garden",children:"1. Install Gazebo Garden"}),"\n",(0,s.jsx)(n.p,{children:"For the most up-to-date version of Gazebo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt install gazebo\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-install-ros-2-gazebo-packages",children:"2. Install ROS 2 Gazebo packages"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-plugins ros-humble-gazebo-dev\n# For ROS 2 Iron, use: sudo apt install ros-iron-gazebo-ros-pkgs ros-iron-gazebo-plugins ros-iron-gazebo-dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-install-additional-simulation-packages",children:"3. Install additional simulation packages"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-ros-gz ros-humble-ros-gz-bridge\n"})}),"\n",(0,s.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.h3,{id:"1-launch-gazebo",children:"1. Launch Gazebo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gazebo\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or launch with ROS 2 integration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Terminal 1\ngazebo --verbose -s libgazebo_ros_init.so -s libgazebo_ros_factory.so\n\n# Terminal 2 (after setting up ROS 2 environment)\nsource /opt/ros/humble/setup.bash\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-create-a-simple-world",children:"2. Create a simple world"}),"\n",(0,s.jsxs)(n.p,{children:["Create a file called ",(0,s.jsx)(n.code,{children:"simple_world.sdf"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="simple_world">\n    \x3c!-- Include a model from the online database --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Add a directional light --\x3e\n    <light type="directional" name="sun">\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <attenuation>\n        <range>1000</range>\n        <constant>0.9</constant>\n        <linear>0.01</linear>\n        <quadratic>0.001</quadratic>\n      </attenuation>\n      <direction>-0.6 0.4 -0.8</direction>\n    </light>\n\n    \x3c!-- Add a model --\x3e\n    <model name="unit_box">\n      <pose>0 0 0.5 0 0 0</pose>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>1 1 1</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>1 1 1</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0.3 0.3 1 1</ambient>\n            <diffuse>0.3 0.3 1 1</diffuse>\n            <specular>0.3 0.3 1 1</specular>\n          </material>\n        </visual>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-launch-your-custom-world",children:"3. Launch your custom world"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gazebo simple_world.sdf\n"})}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-ros-2",children:"Integration with ROS 2"}),"\n",(0,s.jsx)(n.h3,{id:"1-spawn-a-model-via-ros-2",children:"1. Spawn a model via ROS 2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Make sure ROS 2 environment is sourced\nsource /opt/ros/humble/setup.bash\n\n# Spawn a model\nros2 run gazebo_ros spawn_entity.py -entity my_model -file /path/to/model.sdf -x 0 -y 0 -z 1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-control-a-model-via-ros-2",children:"2. Control a model via ROS 2"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo publishes and subscribes to various ROS 2 topics:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/clock"})," - Simulation time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/model_states"})," - Model poses"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/tf"})," and ",(0,s.jsx)(n.code,{children:"/tf_static"})," - Transform information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/joint_states"})," - Joint positions"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"simulating-sensors",children:"Simulating Sensors"}),"\n",(0,s.jsx)(n.h3,{id:"1-lidar-sensor",children:"1. LiDAR Sensor"}),"\n",(0,s.jsx)(n.p,{children:"Add to your robot model SDF:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="lidar" type="ray">\n  <pose>0.1 0 0.1 0 0 0</pose>\n  <ray>\n    <scan>\n      <horizontal>\n        <samples>360</samples>\n        <resolution>1</resolution>\n        <min_angle>-3.14159</min_angle>\n        <max_angle>3.14159</max_angle>\n      </horizontal>\n    </scan>\n    <range>\n      <min>0.1</min>\n      <max>30</max>\n      <resolution>0.01</resolution>\n    </range>\n  </ray>\n  <plugin name="scan" filename="libgazebo_ros_ray_sensor.so">\n    <ros>\n      <namespace>lidar</namespace>\n      <remapping>~/out:=scan</remapping>\n    </ros>\n    <output_type>sensor_msgs/LaserScan</output_type>\n  </plugin>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-camera-sensor",children:"2. Camera Sensor"}),"\n",(0,s.jsx)(n.p,{children:"Add to your robot model SDF:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="camera" type="camera">\n  <pose>0.1 0 0.1 0 0 0</pose>\n  <camera>\n    <horizontal_fov>1.047</horizontal_fov>\n    <image>\n      <width>640</width>\n      <height>480</height>\n      <format>R8G8B8</format>\n    </image>\n    <clip>\n      <near>0.1</near>\n      <far>100</far>\n    </clip>\n  </camera>\n  <plugin name="camera" filename="libgazebo_ros_camera.so">\n    <ros>\n      <namespace>camera</namespace>\n    </ros>\n  </plugin>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"hands-on-lab-creating-a-humanoid-robot-simulation",children:"Hands-on Lab: Creating a Humanoid Robot Simulation"}),"\n",(0,s.jsx)(n.p,{children:"In this lab, you will create a simple humanoid robot in Gazebo."}),"\n",(0,s.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a URDF model of a simple humanoid"}),"\n",(0,s.jsx)(n.li,{children:"Launch Gazebo with your robot"}),"\n",(0,s.jsx)(n.li,{children:"Control the robot via ROS 2"}),"\n",(0,s.jsx)(n.li,{children:"Add sensors to your robot"}),"\n",(0,s.jsx)(n.li,{children:"Test sensor data in ROS 2"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Rendering Issues"}),": If Gazebo doesn't render properly:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export LIBGL_ALWAYS_SOFTWARE=1\ngazebo\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Performance Issues"}),": Reduce rendering quality in Gazebo GUI under View > Rendering"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"ROS 2 Connection Issues"}),": Make sure both Gazebo and your ROS 2 terminal have the same environment sourced"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://gazebosim.org/",children:"Gazebo Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://classic.gazebosim.org/tutorials?tut=ros2_overview",children:"ROS 2 Gazebo Tutorials"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://app.gazebosim.org/fuel",children:"Gazebo Model Database"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var s=i(6540);const a={},o=s.createContext(a);function l(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);